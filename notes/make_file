MAKEFILE
the contents of make file are as follows:

ASM=nasm
BUILD_DIR=build
SRC_DIR=src

.PHONY: all bootloader kernel clean 
all:	kernel bootloader
	rm  $(BUILD_DIR)/final/os.bin
	dd if=$(BUILD_DIR)/bootloader/boot.bin >> $(BUILD_DIR)/final/os.bin 
	dd if=$(BUILD_DIR)/kernel/kernel.bin>> $(BUILD_DIR)/final/os.bin
	dd if=/dev/zero bs=512 count=100 >> $(BUILD_DIR)/final/os.bin

kernel:	kernel_asm_o
	i686-elf-ld  -g -relocatable $(BUILD_DIR)/kernel/kernel.asm.o -o $(BUILD_DIR)/kernel/kernelreloc.o
	i686-elf-gcc -T $(SRC_DIR)/linker.ld -o $(BUILD_DIR)/kernel/kernel.bin -ffreestanding -O0 -nostdlib $(BUILD_DIR)/kernel/kernelreloc.o
		
kernel_asm_o: $(SRC_DIR)/kernel/kernel.asm
	$(ASM) -f elf -g $(SRC_DIR)/kernel/kernel.asm -o $(BUILD_DIR)/kernel/kernel.asm.o


bootloader:$(SRC_DIR)/bootloader/boot.asm
	$(ASM) -f bin -g $(SRC_DIR)/bootloader/boot.asm -o $(BUILD_DIR)/bootloader/boot.bin

clean:
	rm -rf $(BUILD_DIR)/bootloader/boot.bin 
	rm -rf $(BUILD_DIR)/kernel/*

EXPLANATION:

